{"ast":null,"code":"/**\n * API Service Layer\n * Connects React frontend to Flask backend (port 5001)\n */\n\nconst API_BASE = 'http://localhost:5001/api';\n\n/**\n * Fetch stock data from backend\n * @param {string} ticker - Stock symbol (e.g., 'AAPL')\n * @returns {Promise<Object>} Stock data with prices, fundamentals, etc.\n */\nexport async function fetchStockData(ticker) {\n  try {\n    const response = await fetch(`${API_BASE}/stock/${ticker.toUpperCase()}`);\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || `Failed to fetch ${ticker}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(`Error fetching stock data for ${ticker}:`, error);\n    throw error;\n  }\n}\n\n/**\n * Fetch SPY (S&P 500) data for Relative Strength calculation\n * @returns {Promise<Object>} SPY data with current price and historical prices\n */\nexport async function fetchSPYData() {\n  try {\n    const response = await fetch(`${API_BASE}/market/spy`);\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to fetch SPY data');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching SPY data:', error);\n    throw error;\n  }\n}\n\n/**\n * Check if backend is healthy\n * @returns {Promise<boolean>} True if backend is running\n */\nexport async function checkHealth() {\n  try {\n    const response = await fetch(`${API_BASE}/health`);\n    return response.ok;\n  } catch (error) {\n    console.error('Backend health check failed:', error);\n    return false;\n  }\n}\n\n/**\n * Fetch both stock and SPY data in parallel\n * @param {string} ticker - Stock symbol\n * @returns {Promise<Object>} Combined stock and SPY data\n */\nexport async function fetchAnalysisData(ticker) {\n  try {\n    const [stockData, spyData] = await Promise.all([fetchStockData(ticker), fetchSPYData()]);\n    return {\n      stock: stockData,\n      spy: spyData,\n      fetchedAt: new Date().toISOString()\n    };\n  } catch (error) {\n    console.error('Error fetching analysis data:', error);\n    throw error;\n  }\n}","map":{"version":3,"names":["API_BASE","fetchStockData","ticker","response","fetch","toUpperCase","ok","errorData","json","Error","error","console","fetchSPYData","checkHealth","fetchAnalysisData","stockData","spyData","Promise","all","stock","spy","fetchedAt","Date","toISOString"],"sources":["/Users/balajik/projects/swing-trade-analyzer/frontend/src/services/api.js"],"sourcesContent":["/**\n * API Service Layer\n * Connects React frontend to Flask backend (port 5001)\n */\n\nconst API_BASE = 'http://localhost:5001/api';\n\n/**\n * Fetch stock data from backend\n * @param {string} ticker - Stock symbol (e.g., 'AAPL')\n * @returns {Promise<Object>} Stock data with prices, fundamentals, etc.\n */\nexport async function fetchStockData(ticker) {\n  try {\n    const response = await fetch(`${API_BASE}/stock/${ticker.toUpperCase()}`);\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || `Failed to fetch ${ticker}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error(`Error fetching stock data for ${ticker}:`, error);\n    throw error;\n  }\n}\n\n/**\n * Fetch SPY (S&P 500) data for Relative Strength calculation\n * @returns {Promise<Object>} SPY data with current price and historical prices\n */\nexport async function fetchSPYData() {\n  try {\n    const response = await fetch(`${API_BASE}/market/spy`);\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to fetch SPY data');\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching SPY data:', error);\n    throw error;\n  }\n}\n\n/**\n * Check if backend is healthy\n * @returns {Promise<boolean>} True if backend is running\n */\nexport async function checkHealth() {\n  try {\n    const response = await fetch(`${API_BASE}/health`);\n    return response.ok;\n  } catch (error) {\n    console.error('Backend health check failed:', error);\n    return false;\n  }\n}\n\n/**\n * Fetch both stock and SPY data in parallel\n * @param {string} ticker - Stock symbol\n * @returns {Promise<Object>} Combined stock and SPY data\n */\nexport async function fetchAnalysisData(ticker) {\n  try {\n    const [stockData, spyData] = await Promise.all([\n      fetchStockData(ticker),\n      fetchSPYData()\n    ]);\n    \n    return {\n      stock: stockData,\n      spy: spyData,\n      fetchedAt: new Date().toISOString()\n    };\n  } catch (error) {\n    console.error('Error fetching analysis data:', error);\n    throw error;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,QAAQ,GAAG,2BAA2B;;AAE5C;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,cAAcA,CAACC,MAAM,EAAE;EAC3C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,UAAUE,MAAM,CAACG,WAAW,CAAC,CAAC,EAAE,CAAC;IAEzE,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,KAAK,IAAI,mBAAmBR,MAAM,EAAE,CAAC;IACjE;IAEA,OAAO,MAAMC,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iCAAiCR,MAAM,GAAG,EAAEQ,KAAK,CAAC;IAChE,MAAMA,KAAK;EACb;AACF;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAeE,YAAYA,CAAA,EAAG;EACnC,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,aAAa,CAAC;IAEtD,IAAI,CAACG,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,KAAK,IAAI,0BAA0B,CAAC;IAChE;IAEA,OAAO,MAAMP,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACb;AACF;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAeG,WAAWA,CAAA,EAAG;EAClC,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,SAAS,CAAC;IAClD,OAAOG,QAAQ,CAACG,EAAE;EACpB,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,OAAO,KAAK;EACd;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeI,iBAAiBA,CAACZ,MAAM,EAAE;EAC9C,IAAI;IACF,MAAM,CAACa,SAAS,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC7CjB,cAAc,CAACC,MAAM,CAAC,EACtBU,YAAY,CAAC,CAAC,CACf,CAAC;IAEF,OAAO;MACLO,KAAK,EAAEJ,SAAS;MAChBK,GAAG,EAAEJ,OAAO;MACZK,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;EACH,CAAC,CAAC,OAAOb,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}