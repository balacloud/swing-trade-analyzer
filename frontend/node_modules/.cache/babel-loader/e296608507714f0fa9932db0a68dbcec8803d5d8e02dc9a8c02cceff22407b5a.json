{"ast":null,"code":"/**\n * Scoring Engine - 75 Point System\n * \n * Based on proven swing trading methodologies:\n * - Mark Minervini's SEPA\n * - William O'Neil's CAN SLIM\n * \n * Scoring Breakdown:\n * - Technical Analysis: 40 points (Trend 15 + Short-term 10 + RS 10 + Volume 5)\n * - Fundamental Analysis: 20 points\n * - Sentiment: 10 points (placeholder for v1.0)\n * - Risk/Macro: 5 points\n * \n * Verdict Logic:\n * - BUY: Score ≥60/75 + No critical fails + RS >1.0\n * - HOLD: Score 40-59 OR 1 critical fail\n * - AVOID: Score <40 OR 2+ critical fails OR RS <0.8\n */\n\nimport { calculateRelativeStrength, checkRSQualityGate } from './rsCalculator';\nimport { analyzeTrendStructure, calculateTradeSetup } from './technicalIndicators';\n\n/**\n * Main analysis function - combines all scoring components\n * \n * @param {Object} stockData - Stock data from backend\n * @param {Object} spyData - SPY data from backend\n * @returns {Object} Complete analysis with scores and verdict\n */\nexport function analyzeStock(stockData, spyData) {\n  var _stockData$priceHisto, _stockData$priceHisto2, _stockData$priceHisto3, _stockData$priceHisto4, _technicalAnalysis$sc, _technicalAnalysis$sc2, _technicalAnalysis$sc3, _technicalAnalysis$qu;\n  const analysis = {\n    ticker: stockData.ticker,\n    currentPrice: stockData.currentPrice,\n    timestamp: new Date().toISOString(),\n    scores: {},\n    qualityGates: [],\n    criticalFails: [],\n    verdict: null,\n    tradeSetup: null\n  };\n\n  // ========================================\n  // 1. RELATIVE STRENGTH (10 points)\n  // ========================================\n  const rsAnalysis = calculateRelativeStrength(stockData, spyData);\n  analysis.relativeStrength = rsAnalysis;\n  analysis.scores.rs = rsAnalysis.score || 0;\n\n  // RS Quality Gate\n  const rsGate = checkRSQualityGate(rsAnalysis.rs52Week);\n  analysis.qualityGates.push({\n    name: 'Relative Strength',\n    passes: rsGate.passes,\n    reason: rsGate.reason,\n    severity: rsGate.severity\n  });\n  if (rsGate.severity === 'critical') {\n    analysis.criticalFails.push('RS below 0.8 - significant market underperformer');\n  }\n\n  // ========================================\n  // 2. TECHNICAL ANALYSIS (30 points + 10 RS = 40 total)\n  // ========================================\n  const priceData = {\n    closes: ((_stockData$priceHisto = stockData.priceHistory) === null || _stockData$priceHisto === void 0 ? void 0 : _stockData$priceHisto.closes) || [],\n    highs: ((_stockData$priceHisto2 = stockData.priceHistory) === null || _stockData$priceHisto2 === void 0 ? void 0 : _stockData$priceHisto2.highs) || [],\n    lows: ((_stockData$priceHisto3 = stockData.priceHistory) === null || _stockData$priceHisto3 === void 0 ? void 0 : _stockData$priceHisto3.lows) || [],\n    volumes: ((_stockData$priceHisto4 = stockData.priceHistory) === null || _stockData$priceHisto4 === void 0 ? void 0 : _stockData$priceHisto4.volumes) || []\n  };\n  const technicalAnalysis = analyzeTrendStructure(priceData);\n  analysis.technical = technicalAnalysis;\n\n  // Individual technical scores\n  analysis.scores.trendStructure = ((_technicalAnalysis$sc = technicalAnalysis.scores) === null || _technicalAnalysis$sc === void 0 ? void 0 : _technicalAnalysis$sc.trendStructure) || 0;\n  analysis.scores.shortTermTrend = ((_technicalAnalysis$sc2 = technicalAnalysis.scores) === null || _technicalAnalysis$sc2 === void 0 ? void 0 : _technicalAnalysis$sc2.shortTermTrend) || 0;\n  analysis.scores.volume = ((_technicalAnalysis$sc3 = technicalAnalysis.scores) === null || _technicalAnalysis$sc3 === void 0 ? void 0 : _technicalAnalysis$sc3.volume) || 0;\n\n  // Technical total (including RS)\n  analysis.scores.technicalTotal = analysis.scores.trendStructure + analysis.scores.shortTermTrend + analysis.scores.volume + analysis.scores.rs;\n\n  // 200 SMA Quality Gate\n  if (!((_technicalAnalysis$qu = technicalAnalysis.qualityGate) !== null && _technicalAnalysis$qu !== void 0 && _technicalAnalysis$qu.passes)) {\n    analysis.criticalFails.push('Below 200 SMA - not in uptrend');\n    analysis.qualityGates.push({\n      name: '200 SMA Trend',\n      passes: false,\n      reason: 'Stock is below 200 SMA - not in Stage 2 uptrend',\n      severity: 'critical'\n    });\n  } else {\n    analysis.qualityGates.push({\n      name: '200 SMA Trend',\n      passes: true,\n      reason: 'Stock is above 200 SMA - in uptrend',\n      severity: 'none'\n    });\n  }\n\n  // ========================================\n  // 3. FUNDAMENTAL ANALYSIS (20 points)\n  // ========================================\n  const fundamentalAnalysis = analyzeFundamentals(stockData.fundamentals);\n  analysis.fundamental = fundamentalAnalysis;\n  analysis.scores.fundamentalTotal = fundamentalAnalysis.totalScore;\n\n  // ========================================\n  // 4. SENTIMENT (10 points) - Placeholder\n  // ========================================\n  // For v1.0, we'll use a neutral score\n  // Real sentiment will be added in v2.0\n  analysis.scores.sentiment = 5; // Neutral placeholder\n  analysis.sentiment = {\n    score: 5,\n    note: 'Sentiment analysis placeholder - will be enhanced in v2.0'\n  };\n\n  // ========================================\n  // 5. RISK/MACRO (5 points)\n  // ========================================\n  const riskAnalysis = analyzeRiskMacro(spyData);\n  analysis.risk = riskAnalysis;\n  analysis.scores.riskTotal = riskAnalysis.totalScore;\n\n  // VIX Quality Gate (if available)\n  if (riskAnalysis.vixLevel && riskAnalysis.vixLevel > 30) {\n    analysis.criticalFails.push('VIX > 30 - high volatility regime');\n    analysis.qualityGates.push({\n      name: 'VIX Level',\n      passes: false,\n      reason: 'VIX above 30 indicates high market fear',\n      severity: 'critical'\n    });\n  }\n\n  // ========================================\n  // 6. LIQUIDITY QUALITY GATE\n  // ========================================\n  const avgDollarVolume = stockData.avgVolume * stockData.currentPrice;\n  if (avgDollarVolume < 10000000) {\n    // $10M minimum\n    analysis.criticalFails.push('Average daily dollar volume < $10M - illiquid');\n    analysis.qualityGates.push({\n      name: 'Liquidity',\n      passes: false,\n      reason: `Average dollar volume $${(avgDollarVolume / 1000000).toFixed(1)}M is below $10M threshold`,\n      severity: 'critical'\n    });\n  } else {\n    analysis.qualityGates.push({\n      name: 'Liquidity',\n      passes: true,\n      reason: `Average dollar volume $${(avgDollarVolume / 1000000).toFixed(1)}M is adequate`,\n      severity: 'none'\n    });\n  }\n\n  // ========================================\n  // TOTAL SCORE (75 points max)\n  // ========================================\n  analysis.scores.total = analysis.scores.technicalTotal +\n  // 40 max\n  analysis.scores.fundamentalTotal +\n  // 20 max\n  analysis.scores.sentiment +\n  // 10 max\n  analysis.scores.riskTotal; // 5 max\n\n  analysis.scores.maxPossible = 75;\n  analysis.scores.percentage = Math.round(analysis.scores.total / 75 * 100);\n\n  // ========================================\n  // VERDICT DETERMINATION\n  // ========================================\n  analysis.verdict = determineVerdict(analysis);\n\n  // ========================================\n  // TRADE SETUP (if BUY verdict)\n  // ========================================\n  if (analysis.verdict.action === 'BUY') {\n    var _technicalAnalysis$me, _technicalAnalysis$me2;\n    const atr = (_technicalAnalysis$me = technicalAnalysis.metrics) === null || _technicalAnalysis$me === void 0 ? void 0 : (_technicalAnalysis$me2 = _technicalAnalysis$me.atr) === null || _technicalAnalysis$me2 === void 0 ? void 0 : _technicalAnalysis$me2.value;\n    analysis.tradeSetup = calculateTradeSetup(stockData.currentPrice, atr);\n  }\n  return analysis;\n}\n\n/**\n * Analyze fundamental metrics (20 points max)\n */\nfunction analyzeFundamentals(fundamentals) {\n  if (!fundamentals) {\n    return {\n      totalScore: 0,\n      error: 'No fundamental data available'\n    };\n  }\n  let totalScore = 0;\n  const breakdown = {};\n\n  // EPS Growth (6 points)\n  const epsGrowth = fundamentals.epsGrowth;\n  if (epsGrowth !== null && epsGrowth !== undefined) {\n    if (epsGrowth > 25) breakdown.epsGrowth = 6;else if (epsGrowth > 15) breakdown.epsGrowth = 4;else if (epsGrowth > 10) breakdown.epsGrowth = 2;else breakdown.epsGrowth = 0;\n    totalScore += breakdown.epsGrowth;\n  }\n\n  // Revenue Growth (5 points)\n  const revenueGrowth = fundamentals.revenueGrowth;\n  if (revenueGrowth !== null && revenueGrowth !== undefined) {\n    if (revenueGrowth > 20) breakdown.revenueGrowth = 5;else if (revenueGrowth > 10) breakdown.revenueGrowth = 3;else if (revenueGrowth > 5) breakdown.revenueGrowth = 1;else breakdown.revenueGrowth = 0;\n    totalScore += breakdown.revenueGrowth;\n  }\n\n  // ROE (4 points)\n  const roe = fundamentals.roe;\n  if (roe !== null && roe !== undefined) {\n    if (roe > 15) breakdown.roe = 4;else if (roe > 10) breakdown.roe = 2;else breakdown.roe = 0;\n    totalScore += breakdown.roe;\n  }\n\n  // Debt/Equity (3 points)\n  const debtEquity = fundamentals.debtToEquity;\n  if (debtEquity !== null && debtEquity !== undefined) {\n    if (debtEquity < 1.0) breakdown.debtEquity = 3;else if (debtEquity < 1.5) breakdown.debtEquity = 1;else breakdown.debtEquity = 0;\n    totalScore += breakdown.debtEquity;\n  }\n\n  // Forward P/E (2 points)\n  const forwardPE = fundamentals.forwardPE;\n  if (forwardPE !== null && forwardPE !== undefined && forwardPE > 0) {\n    if (forwardPE < 20) breakdown.forwardPE = 2;else if (forwardPE < 25) breakdown.forwardPE = 1;else breakdown.forwardPE = 0;\n    totalScore += breakdown.forwardPE;\n  }\n  return {\n    totalScore,\n    maxScore: 20,\n    breakdown,\n    rawData: fundamentals\n  };\n}\n\n/**\n * Analyze risk/macro factors (5 points max)\n */\nfunction analyzeRiskMacro(spyData) {\n  let totalScore = 0;\n  const breakdown = {};\n\n  // VIX Level (2 points) - placeholder for v1.0\n  // Will add real VIX data in v1.1\n  breakdown.vix = 1; // Assume moderate VIX\n  totalScore += 1;\n\n  // S&P 500 Regime (2 points)\n  // SPY above 200 SMA = bullish regime\n  if (spyData !== null && spyData !== void 0 && spyData.sma200 && spyData !== null && spyData !== void 0 && spyData.currentPrice) {\n    if (spyData.currentPrice > spyData.sma200) {\n      breakdown.spyRegime = 2;\n      totalScore += 2;\n    } else {\n      breakdown.spyRegime = 0;\n    }\n  } else {\n    breakdown.spyRegime = 1; // Neutral if no data\n    totalScore += 1;\n  }\n\n  // Market Breadth (1 point) - placeholder\n  breakdown.breadth = 1; // Assume neutral\n  totalScore += 1;\n  return {\n    totalScore,\n    maxScore: 5,\n    breakdown,\n    vixLevel: null,\n    // Will be real in v1.1\n    spyAbove200: (spyData === null || spyData === void 0 ? void 0 : spyData.currentPrice) > (spyData === null || spyData === void 0 ? void 0 : spyData.sma200)\n  };\n}\n\n/**\n * Determine final verdict based on score and quality gates\n */\nfunction determineVerdict(analysis) {\n  var _analysis$relativeStr;\n  const score = analysis.scores.total;\n  const criticalFails = analysis.criticalFails.length;\n  const rs = (_analysis$relativeStr = analysis.relativeStrength) === null || _analysis$relativeStr === void 0 ? void 0 : _analysis$relativeStr.rs52Week;\n\n  // AVOID conditions (checked first)\n  if (criticalFails >= 2) {\n    return {\n      action: 'AVOID',\n      confidence: 'high',\n      reason: `${criticalFails} critical quality gate failures`,\n      color: 'red'\n    };\n  }\n  if (rs !== null && rs < 0.8) {\n    return {\n      action: 'AVOID',\n      confidence: 'high',\n      reason: 'RS below 0.8 - significant market underperformer',\n      color: 'red'\n    };\n  }\n  if (score < 40) {\n    return {\n      action: 'AVOID',\n      confidence: 'medium',\n      reason: `Score ${score}/75 is below minimum threshold`,\n      color: 'red'\n    };\n  }\n\n  // HOLD conditions\n  if (criticalFails === 1) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: '1 critical quality gate failure - wait for improvement',\n      color: 'yellow'\n    };\n  }\n  if (score >= 40 && score < 60) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: `Score ${score}/75 is moderate - not a strong setup`,\n      color: 'yellow'\n    };\n  }\n  if (rs !== null && rs < 1.0) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: 'RS below 1.0 - underperforming market',\n      color: 'yellow'\n    };\n  }\n\n  // BUY conditions\n  if (score >= 60 && criticalFails === 0 && (rs === null || rs >= 1.0)) {\n    let confidence = 'medium';\n    if (score >= 65 && rs >= 1.2) confidence = 'high';\n    if (score >= 70 && rs >= 1.3) confidence = 'very high';\n    return {\n      action: 'BUY',\n      confidence,\n      reason: `Score ${score}/75 with strong RS of ${(rs === null || rs === void 0 ? void 0 : rs.toFixed(2)) || 'N/A'}`,\n      color: 'green'\n    };\n  }\n\n  // Default to HOLD\n  return {\n    action: 'HOLD',\n    confidence: 'low',\n    reason: 'Mixed signals - proceed with caution',\n    color: 'yellow'\n  };\n}\n\n/**\n * Format analysis for display\n */\nexport function formatAnalysisForDisplay(analysis) {\n  var _analysis$currentPric;\n  return {\n    ticker: analysis.ticker,\n    price: `$${(_analysis$currentPric = analysis.currentPrice) === null || _analysis$currentPric === void 0 ? void 0 : _analysis$currentPric.toFixed(2)}`,\n    verdict: analysis.verdict,\n    score: `${analysis.scores.total}/${analysis.scores.maxPossible}`,\n    scorePercentage: `${analysis.scores.percentage}%`,\n    breakdown: {\n      technical: `${analysis.scores.technicalTotal}/40`,\n      fundamental: `${analysis.scores.fundamentalTotal}/20`,\n      sentiment: `${analysis.scores.sentiment}/10`,\n      risk: `${analysis.scores.riskTotal}/5`\n    },\n    rs: analysis.relativeStrength,\n    qualityGates: analysis.qualityGates,\n    criticalFails: analysis.criticalFails,\n    tradeSetup: analysis.tradeSetup,\n    timestamp: analysis.timestamp\n  };\n}","map":{"version":3,"names":["calculateRelativeStrength","checkRSQualityGate","analyzeTrendStructure","calculateTradeSetup","analyzeStock","stockData","spyData","_stockData$priceHisto","_stockData$priceHisto2","_stockData$priceHisto3","_stockData$priceHisto4","_technicalAnalysis$sc","_technicalAnalysis$sc2","_technicalAnalysis$sc3","_technicalAnalysis$qu","analysis","ticker","currentPrice","timestamp","Date","toISOString","scores","qualityGates","criticalFails","verdict","tradeSetup","rsAnalysis","relativeStrength","rs","score","rsGate","rs52Week","push","name","passes","reason","severity","priceData","closes","priceHistory","highs","lows","volumes","technicalAnalysis","technical","trendStructure","shortTermTrend","volume","technicalTotal","qualityGate","fundamentalAnalysis","analyzeFundamentals","fundamentals","fundamental","fundamentalTotal","totalScore","sentiment","note","riskAnalysis","analyzeRiskMacro","risk","riskTotal","vixLevel","avgDollarVolume","avgVolume","toFixed","total","maxPossible","percentage","Math","round","determineVerdict","action","_technicalAnalysis$me","_technicalAnalysis$me2","atr","metrics","value","error","breakdown","epsGrowth","undefined","revenueGrowth","roe","debtEquity","debtToEquity","forwardPE","maxScore","rawData","vix","sma200","spyRegime","breadth","spyAbove200","_analysis$relativeStr","length","confidence","color","formatAnalysisForDisplay","_analysis$currentPric","price","scorePercentage"],"sources":["/Users/balajik/projects/swing-trade-analyzer/frontend/src/utils/scoringEngine.js"],"sourcesContent":["/**\n * Scoring Engine - 75 Point System\n * \n * Based on proven swing trading methodologies:\n * - Mark Minervini's SEPA\n * - William O'Neil's CAN SLIM\n * \n * Scoring Breakdown:\n * - Technical Analysis: 40 points (Trend 15 + Short-term 10 + RS 10 + Volume 5)\n * - Fundamental Analysis: 20 points\n * - Sentiment: 10 points (placeholder for v1.0)\n * - Risk/Macro: 5 points\n * \n * Verdict Logic:\n * - BUY: Score ≥60/75 + No critical fails + RS >1.0\n * - HOLD: Score 40-59 OR 1 critical fail\n * - AVOID: Score <40 OR 2+ critical fails OR RS <0.8\n */\n\nimport { calculateRelativeStrength, checkRSQualityGate } from './rsCalculator';\nimport { analyzeTrendStructure, calculateTradeSetup } from './technicalIndicators';\n\n/**\n * Main analysis function - combines all scoring components\n * \n * @param {Object} stockData - Stock data from backend\n * @param {Object} spyData - SPY data from backend\n * @returns {Object} Complete analysis with scores and verdict\n */\nexport function analyzeStock(stockData, spyData) {\n  const analysis = {\n    ticker: stockData.ticker,\n    currentPrice: stockData.currentPrice,\n    timestamp: new Date().toISOString(),\n    scores: {},\n    qualityGates: [],\n    criticalFails: [],\n    verdict: null,\n    tradeSetup: null\n  };\n  \n  // ========================================\n  // 1. RELATIVE STRENGTH (10 points)\n  // ========================================\n  const rsAnalysis = calculateRelativeStrength(stockData, spyData);\n  analysis.relativeStrength = rsAnalysis;\n  analysis.scores.rs = rsAnalysis.score || 0;\n  \n  // RS Quality Gate\n  const rsGate = checkRSQualityGate(rsAnalysis.rs52Week);\n  analysis.qualityGates.push({\n    name: 'Relative Strength',\n    passes: rsGate.passes,\n    reason: rsGate.reason,\n    severity: rsGate.severity\n  });\n  \n  if (rsGate.severity === 'critical') {\n    analysis.criticalFails.push('RS below 0.8 - significant market underperformer');\n  }\n  \n  // ========================================\n  // 2. TECHNICAL ANALYSIS (30 points + 10 RS = 40 total)\n  // ========================================\n  const priceData = {\n    closes: stockData.priceHistory?.closes || [],\n    highs: stockData.priceHistory?.highs || [],\n    lows: stockData.priceHistory?.lows || [],\n    volumes: stockData.priceHistory?.volumes || []\n  };\n  \n  const technicalAnalysis = analyzeTrendStructure(priceData);\n  analysis.technical = technicalAnalysis;\n  \n  // Individual technical scores\n  analysis.scores.trendStructure = technicalAnalysis.scores?.trendStructure || 0;\n  analysis.scores.shortTermTrend = technicalAnalysis.scores?.shortTermTrend || 0;\n  analysis.scores.volume = technicalAnalysis.scores?.volume || 0;\n  \n  // Technical total (including RS)\n  analysis.scores.technicalTotal = \n    analysis.scores.trendStructure + \n    analysis.scores.shortTermTrend + \n    analysis.scores.volume + \n    analysis.scores.rs;\n  \n  // 200 SMA Quality Gate\n  if (!technicalAnalysis.qualityGate?.passes) {\n    analysis.criticalFails.push('Below 200 SMA - not in uptrend');\n    analysis.qualityGates.push({\n      name: '200 SMA Trend',\n      passes: false,\n      reason: 'Stock is below 200 SMA - not in Stage 2 uptrend',\n      severity: 'critical'\n    });\n  } else {\n    analysis.qualityGates.push({\n      name: '200 SMA Trend',\n      passes: true,\n      reason: 'Stock is above 200 SMA - in uptrend',\n      severity: 'none'\n    });\n  }\n  \n  // ========================================\n  // 3. FUNDAMENTAL ANALYSIS (20 points)\n  // ========================================\n  const fundamentalAnalysis = analyzeFundamentals(stockData.fundamentals);\n  analysis.fundamental = fundamentalAnalysis;\n  analysis.scores.fundamentalTotal = fundamentalAnalysis.totalScore;\n  \n  // ========================================\n  // 4. SENTIMENT (10 points) - Placeholder\n  // ========================================\n  // For v1.0, we'll use a neutral score\n  // Real sentiment will be added in v2.0\n  analysis.scores.sentiment = 5; // Neutral placeholder\n  analysis.sentiment = {\n    score: 5,\n    note: 'Sentiment analysis placeholder - will be enhanced in v2.0'\n  };\n  \n  // ========================================\n  // 5. RISK/MACRO (5 points)\n  // ========================================\n  const riskAnalysis = analyzeRiskMacro(spyData);\n  analysis.risk = riskAnalysis;\n  analysis.scores.riskTotal = riskAnalysis.totalScore;\n  \n  // VIX Quality Gate (if available)\n  if (riskAnalysis.vixLevel && riskAnalysis.vixLevel > 30) {\n    analysis.criticalFails.push('VIX > 30 - high volatility regime');\n    analysis.qualityGates.push({\n      name: 'VIX Level',\n      passes: false,\n      reason: 'VIX above 30 indicates high market fear',\n      severity: 'critical'\n    });\n  }\n  \n  // ========================================\n  // 6. LIQUIDITY QUALITY GATE\n  // ========================================\n  const avgDollarVolume = stockData.avgVolume * stockData.currentPrice;\n  if (avgDollarVolume < 10000000) { // $10M minimum\n    analysis.criticalFails.push('Average daily dollar volume < $10M - illiquid');\n    analysis.qualityGates.push({\n      name: 'Liquidity',\n      passes: false,\n      reason: `Average dollar volume $${(avgDollarVolume/1000000).toFixed(1)}M is below $10M threshold`,\n      severity: 'critical'\n    });\n  } else {\n    analysis.qualityGates.push({\n      name: 'Liquidity',\n      passes: true,\n      reason: `Average dollar volume $${(avgDollarVolume/1000000).toFixed(1)}M is adequate`,\n      severity: 'none'\n    });\n  }\n  \n  // ========================================\n  // TOTAL SCORE (75 points max)\n  // ========================================\n  analysis.scores.total = \n    analysis.scores.technicalTotal +      // 40 max\n    analysis.scores.fundamentalTotal +    // 20 max\n    analysis.scores.sentiment +           // 10 max\n    analysis.scores.riskTotal;            // 5 max\n  \n  analysis.scores.maxPossible = 75;\n  analysis.scores.percentage = Math.round((analysis.scores.total / 75) * 100);\n  \n  // ========================================\n  // VERDICT DETERMINATION\n  // ========================================\n  analysis.verdict = determineVerdict(analysis);\n  \n  // ========================================\n  // TRADE SETUP (if BUY verdict)\n  // ========================================\n  if (analysis.verdict.action === 'BUY') {\n    const atr = technicalAnalysis.metrics?.atr?.value;\n    analysis.tradeSetup = calculateTradeSetup(stockData.currentPrice, atr);\n  }\n  \n  return analysis;\n}\n\n/**\n * Analyze fundamental metrics (20 points max)\n */\nfunction analyzeFundamentals(fundamentals) {\n  if (!fundamentals) {\n    return {\n      totalScore: 0,\n      error: 'No fundamental data available'\n    };\n  }\n  \n  let totalScore = 0;\n  const breakdown = {};\n  \n  // EPS Growth (6 points)\n  const epsGrowth = fundamentals.epsGrowth;\n  if (epsGrowth !== null && epsGrowth !== undefined) {\n    if (epsGrowth > 25) breakdown.epsGrowth = 6;\n    else if (epsGrowth > 15) breakdown.epsGrowth = 4;\n    else if (epsGrowth > 10) breakdown.epsGrowth = 2;\n    else breakdown.epsGrowth = 0;\n    totalScore += breakdown.epsGrowth;\n  }\n  \n  // Revenue Growth (5 points)\n  const revenueGrowth = fundamentals.revenueGrowth;\n  if (revenueGrowth !== null && revenueGrowth !== undefined) {\n    if (revenueGrowth > 20) breakdown.revenueGrowth = 5;\n    else if (revenueGrowth > 10) breakdown.revenueGrowth = 3;\n    else if (revenueGrowth > 5) breakdown.revenueGrowth = 1;\n    else breakdown.revenueGrowth = 0;\n    totalScore += breakdown.revenueGrowth;\n  }\n  \n  // ROE (4 points)\n  const roe = fundamentals.roe;\n  if (roe !== null && roe !== undefined) {\n    if (roe > 15) breakdown.roe = 4;\n    else if (roe > 10) breakdown.roe = 2;\n    else breakdown.roe = 0;\n    totalScore += breakdown.roe;\n  }\n  \n  // Debt/Equity (3 points)\n  const debtEquity = fundamentals.debtToEquity;\n  if (debtEquity !== null && debtEquity !== undefined) {\n    if (debtEquity < 1.0) breakdown.debtEquity = 3;\n    else if (debtEquity < 1.5) breakdown.debtEquity = 1;\n    else breakdown.debtEquity = 0;\n    totalScore += breakdown.debtEquity;\n  }\n  \n  // Forward P/E (2 points)\n  const forwardPE = fundamentals.forwardPE;\n  if (forwardPE !== null && forwardPE !== undefined && forwardPE > 0) {\n    if (forwardPE < 20) breakdown.forwardPE = 2;\n    else if (forwardPE < 25) breakdown.forwardPE = 1;\n    else breakdown.forwardPE = 0;\n    totalScore += breakdown.forwardPE;\n  }\n  \n  return {\n    totalScore,\n    maxScore: 20,\n    breakdown,\n    rawData: fundamentals\n  };\n}\n\n/**\n * Analyze risk/macro factors (5 points max)\n */\nfunction analyzeRiskMacro(spyData) {\n  let totalScore = 0;\n  const breakdown = {};\n  \n  // VIX Level (2 points) - placeholder for v1.0\n  // Will add real VIX data in v1.1\n  breakdown.vix = 1; // Assume moderate VIX\n  totalScore += 1;\n  \n  // S&P 500 Regime (2 points)\n  // SPY above 200 SMA = bullish regime\n  if (spyData?.sma200 && spyData?.currentPrice) {\n    if (spyData.currentPrice > spyData.sma200) {\n      breakdown.spyRegime = 2;\n      totalScore += 2;\n    } else {\n      breakdown.spyRegime = 0;\n    }\n  } else {\n    breakdown.spyRegime = 1; // Neutral if no data\n    totalScore += 1;\n  }\n  \n  // Market Breadth (1 point) - placeholder\n  breakdown.breadth = 1; // Assume neutral\n  totalScore += 1;\n  \n  return {\n    totalScore,\n    maxScore: 5,\n    breakdown,\n    vixLevel: null, // Will be real in v1.1\n    spyAbove200: spyData?.currentPrice > spyData?.sma200\n  };\n}\n\n/**\n * Determine final verdict based on score and quality gates\n */\nfunction determineVerdict(analysis) {\n  const score = analysis.scores.total;\n  const criticalFails = analysis.criticalFails.length;\n  const rs = analysis.relativeStrength?.rs52Week;\n  \n  // AVOID conditions (checked first)\n  if (criticalFails >= 2) {\n    return {\n      action: 'AVOID',\n      confidence: 'high',\n      reason: `${criticalFails} critical quality gate failures`,\n      color: 'red'\n    };\n  }\n  \n  if (rs !== null && rs < 0.8) {\n    return {\n      action: 'AVOID',\n      confidence: 'high',\n      reason: 'RS below 0.8 - significant market underperformer',\n      color: 'red'\n    };\n  }\n  \n  if (score < 40) {\n    return {\n      action: 'AVOID',\n      confidence: 'medium',\n      reason: `Score ${score}/75 is below minimum threshold`,\n      color: 'red'\n    };\n  }\n  \n  // HOLD conditions\n  if (criticalFails === 1) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: '1 critical quality gate failure - wait for improvement',\n      color: 'yellow'\n    };\n  }\n  \n  if (score >= 40 && score < 60) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: `Score ${score}/75 is moderate - not a strong setup`,\n      color: 'yellow'\n    };\n  }\n  \n  if (rs !== null && rs < 1.0) {\n    return {\n      action: 'HOLD',\n      confidence: 'medium',\n      reason: 'RS below 1.0 - underperforming market',\n      color: 'yellow'\n    };\n  }\n  \n  // BUY conditions\n  if (score >= 60 && criticalFails === 0 && (rs === null || rs >= 1.0)) {\n    let confidence = 'medium';\n    if (score >= 65 && rs >= 1.2) confidence = 'high';\n    if (score >= 70 && rs >= 1.3) confidence = 'very high';\n    \n    return {\n      action: 'BUY',\n      confidence,\n      reason: `Score ${score}/75 with strong RS of ${rs?.toFixed(2) || 'N/A'}`,\n      color: 'green'\n    };\n  }\n  \n  // Default to HOLD\n  return {\n    action: 'HOLD',\n    confidence: 'low',\n    reason: 'Mixed signals - proceed with caution',\n    color: 'yellow'\n  };\n}\n\n/**\n * Format analysis for display\n */\nexport function formatAnalysisForDisplay(analysis) {\n  return {\n    ticker: analysis.ticker,\n    price: `$${analysis.currentPrice?.toFixed(2)}`,\n    verdict: analysis.verdict,\n    score: `${analysis.scores.total}/${analysis.scores.maxPossible}`,\n    scorePercentage: `${analysis.scores.percentage}%`,\n    breakdown: {\n      technical: `${analysis.scores.technicalTotal}/40`,\n      fundamental: `${analysis.scores.fundamentalTotal}/20`,\n      sentiment: `${analysis.scores.sentiment}/10`,\n      risk: `${analysis.scores.riskTotal}/5`\n    },\n    rs: analysis.relativeStrength,\n    qualityGates: analysis.qualityGates,\n    criticalFails: analysis.criticalFails,\n    tradeSetup: analysis.tradeSetup,\n    timestamp: analysis.timestamp\n  };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,yBAAyB,EAAEC,kBAAkB,QAAQ,gBAAgB;AAC9E,SAASC,qBAAqB,EAAEC,mBAAmB,QAAQ,uBAAuB;;AAElF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAACC,SAAS,EAAEC,OAAO,EAAE;EAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,qBAAA;EAC/C,MAAMC,QAAQ,GAAG;IACfC,MAAM,EAAEX,SAAS,CAACW,MAAM;IACxBC,YAAY,EAAEZ,SAAS,CAACY,YAAY;IACpCC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACnCC,MAAM,EAAE,CAAC,CAAC;IACVC,YAAY,EAAE,EAAE;IAChBC,aAAa,EAAE,EAAE;IACjBC,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE;EACd,CAAC;;EAED;EACA;EACA;EACA,MAAMC,UAAU,GAAG1B,yBAAyB,CAACK,SAAS,EAAEC,OAAO,CAAC;EAChES,QAAQ,CAACY,gBAAgB,GAAGD,UAAU;EACtCX,QAAQ,CAACM,MAAM,CAACO,EAAE,GAAGF,UAAU,CAACG,KAAK,IAAI,CAAC;;EAE1C;EACA,MAAMC,MAAM,GAAG7B,kBAAkB,CAACyB,UAAU,CAACK,QAAQ,CAAC;EACtDhB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;IACzBC,IAAI,EAAE,mBAAmB;IACzBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;IACrBC,MAAM,EAAEL,MAAM,CAACK,MAAM;IACrBC,QAAQ,EAAEN,MAAM,CAACM;EACnB,CAAC,CAAC;EAEF,IAAIN,MAAM,CAACM,QAAQ,KAAK,UAAU,EAAE;IAClCrB,QAAQ,CAACQ,aAAa,CAACS,IAAI,CAAC,kDAAkD,CAAC;EACjF;;EAEA;EACA;EACA;EACA,MAAMK,SAAS,GAAG;IAChBC,MAAM,EAAE,EAAA/B,qBAAA,GAAAF,SAAS,CAACkC,YAAY,cAAAhC,qBAAA,uBAAtBA,qBAAA,CAAwB+B,MAAM,KAAI,EAAE;IAC5CE,KAAK,EAAE,EAAAhC,sBAAA,GAAAH,SAAS,CAACkC,YAAY,cAAA/B,sBAAA,uBAAtBA,sBAAA,CAAwBgC,KAAK,KAAI,EAAE;IAC1CC,IAAI,EAAE,EAAAhC,sBAAA,GAAAJ,SAAS,CAACkC,YAAY,cAAA9B,sBAAA,uBAAtBA,sBAAA,CAAwBgC,IAAI,KAAI,EAAE;IACxCC,OAAO,EAAE,EAAAhC,sBAAA,GAAAL,SAAS,CAACkC,YAAY,cAAA7B,sBAAA,uBAAtBA,sBAAA,CAAwBgC,OAAO,KAAI;EAC9C,CAAC;EAED,MAAMC,iBAAiB,GAAGzC,qBAAqB,CAACmC,SAAS,CAAC;EAC1DtB,QAAQ,CAAC6B,SAAS,GAAGD,iBAAiB;;EAEtC;EACA5B,QAAQ,CAACM,MAAM,CAACwB,cAAc,GAAG,EAAAlC,qBAAA,GAAAgC,iBAAiB,CAACtB,MAAM,cAAAV,qBAAA,uBAAxBA,qBAAA,CAA0BkC,cAAc,KAAI,CAAC;EAC9E9B,QAAQ,CAACM,MAAM,CAACyB,cAAc,GAAG,EAAAlC,sBAAA,GAAA+B,iBAAiB,CAACtB,MAAM,cAAAT,sBAAA,uBAAxBA,sBAAA,CAA0BkC,cAAc,KAAI,CAAC;EAC9E/B,QAAQ,CAACM,MAAM,CAAC0B,MAAM,GAAG,EAAAlC,sBAAA,GAAA8B,iBAAiB,CAACtB,MAAM,cAAAR,sBAAA,uBAAxBA,sBAAA,CAA0BkC,MAAM,KAAI,CAAC;;EAE9D;EACAhC,QAAQ,CAACM,MAAM,CAAC2B,cAAc,GAC5BjC,QAAQ,CAACM,MAAM,CAACwB,cAAc,GAC9B9B,QAAQ,CAACM,MAAM,CAACyB,cAAc,GAC9B/B,QAAQ,CAACM,MAAM,CAAC0B,MAAM,GACtBhC,QAAQ,CAACM,MAAM,CAACO,EAAE;;EAEpB;EACA,IAAI,GAAAd,qBAAA,GAAC6B,iBAAiB,CAACM,WAAW,cAAAnC,qBAAA,eAA7BA,qBAAA,CAA+BoB,MAAM,GAAE;IAC1CnB,QAAQ,CAACQ,aAAa,CAACS,IAAI,CAAC,gCAAgC,CAAC;IAC7DjB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;MACzBC,IAAI,EAAE,eAAe;MACrBC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,iDAAiD;MACzDC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC,MAAM;IACLrB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;MACzBC,IAAI,EAAE,eAAe;MACrBC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,qCAAqC;MAC7CC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACA,MAAMc,mBAAmB,GAAGC,mBAAmB,CAAC9C,SAAS,CAAC+C,YAAY,CAAC;EACvErC,QAAQ,CAACsC,WAAW,GAAGH,mBAAmB;EAC1CnC,QAAQ,CAACM,MAAM,CAACiC,gBAAgB,GAAGJ,mBAAmB,CAACK,UAAU;;EAEjE;EACA;EACA;EACA;EACA;EACAxC,QAAQ,CAACM,MAAM,CAACmC,SAAS,GAAG,CAAC,CAAC,CAAC;EAC/BzC,QAAQ,CAACyC,SAAS,GAAG;IACnB3B,KAAK,EAAE,CAAC;IACR4B,IAAI,EAAE;EACR,CAAC;;EAED;EACA;EACA;EACA,MAAMC,YAAY,GAAGC,gBAAgB,CAACrD,OAAO,CAAC;EAC9CS,QAAQ,CAAC6C,IAAI,GAAGF,YAAY;EAC5B3C,QAAQ,CAACM,MAAM,CAACwC,SAAS,GAAGH,YAAY,CAACH,UAAU;;EAEnD;EACA,IAAIG,YAAY,CAACI,QAAQ,IAAIJ,YAAY,CAACI,QAAQ,GAAG,EAAE,EAAE;IACvD/C,QAAQ,CAACQ,aAAa,CAACS,IAAI,CAAC,mCAAmC,CAAC;IAChEjB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;MACzBC,IAAI,EAAE,WAAW;MACjBC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,yCAAyC;MACjDC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACA,MAAM2B,eAAe,GAAG1D,SAAS,CAAC2D,SAAS,GAAG3D,SAAS,CAACY,YAAY;EACpE,IAAI8C,eAAe,GAAG,QAAQ,EAAE;IAAE;IAChChD,QAAQ,CAACQ,aAAa,CAACS,IAAI,CAAC,+CAA+C,CAAC;IAC5EjB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;MACzBC,IAAI,EAAE,WAAW;MACjBC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,0BAA0B,CAAC4B,eAAe,GAAC,OAAO,EAAEE,OAAO,CAAC,CAAC,CAAC,2BAA2B;MACjG7B,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC,MAAM;IACLrB,QAAQ,CAACO,YAAY,CAACU,IAAI,CAAC;MACzBC,IAAI,EAAE,WAAW;MACjBC,MAAM,EAAE,IAAI;MACZC,MAAM,EAAE,0BAA0B,CAAC4B,eAAe,GAAC,OAAO,EAAEE,OAAO,CAAC,CAAC,CAAC,eAAe;MACrF7B,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACArB,QAAQ,CAACM,MAAM,CAAC6C,KAAK,GACnBnD,QAAQ,CAACM,MAAM,CAAC2B,cAAc;EAAQ;EACtCjC,QAAQ,CAACM,MAAM,CAACiC,gBAAgB;EAAM;EACtCvC,QAAQ,CAACM,MAAM,CAACmC,SAAS;EAAa;EACtCzC,QAAQ,CAACM,MAAM,CAACwC,SAAS,CAAC,CAAY;;EAExC9C,QAAQ,CAACM,MAAM,CAAC8C,WAAW,GAAG,EAAE;EAChCpD,QAAQ,CAACM,MAAM,CAAC+C,UAAU,GAAGC,IAAI,CAACC,KAAK,CAAEvD,QAAQ,CAACM,MAAM,CAAC6C,KAAK,GAAG,EAAE,GAAI,GAAG,CAAC;;EAE3E;EACA;EACA;EACAnD,QAAQ,CAACS,OAAO,GAAG+C,gBAAgB,CAACxD,QAAQ,CAAC;;EAE7C;EACA;EACA;EACA,IAAIA,QAAQ,CAACS,OAAO,CAACgD,MAAM,KAAK,KAAK,EAAE;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IACrC,MAAMC,GAAG,IAAAF,qBAAA,GAAG9B,iBAAiB,CAACiC,OAAO,cAAAH,qBAAA,wBAAAC,sBAAA,GAAzBD,qBAAA,CAA2BE,GAAG,cAAAD,sBAAA,uBAA9BA,sBAAA,CAAgCG,KAAK;IACjD9D,QAAQ,CAACU,UAAU,GAAGtB,mBAAmB,CAACE,SAAS,CAACY,YAAY,EAAE0D,GAAG,CAAC;EACxE;EAEA,OAAO5D,QAAQ;AACjB;;AAEA;AACA;AACA;AACA,SAASoC,mBAAmBA,CAACC,YAAY,EAAE;EACzC,IAAI,CAACA,YAAY,EAAE;IACjB,OAAO;MACLG,UAAU,EAAE,CAAC;MACbuB,KAAK,EAAE;IACT,CAAC;EACH;EAEA,IAAIvB,UAAU,GAAG,CAAC;EAClB,MAAMwB,SAAS,GAAG,CAAC,CAAC;;EAEpB;EACA,MAAMC,SAAS,GAAG5B,YAAY,CAAC4B,SAAS;EACxC,IAAIA,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAKC,SAAS,EAAE;IACjD,IAAID,SAAS,GAAG,EAAE,EAAED,SAAS,CAACC,SAAS,GAAG,CAAC,CAAC,KACvC,IAAIA,SAAS,GAAG,EAAE,EAAED,SAAS,CAACC,SAAS,GAAG,CAAC,CAAC,KAC5C,IAAIA,SAAS,GAAG,EAAE,EAAED,SAAS,CAACC,SAAS,GAAG,CAAC,CAAC,KAC5CD,SAAS,CAACC,SAAS,GAAG,CAAC;IAC5BzB,UAAU,IAAIwB,SAAS,CAACC,SAAS;EACnC;;EAEA;EACA,MAAME,aAAa,GAAG9B,YAAY,CAAC8B,aAAa;EAChD,IAAIA,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAKD,SAAS,EAAE;IACzD,IAAIC,aAAa,GAAG,EAAE,EAAEH,SAAS,CAACG,aAAa,GAAG,CAAC,CAAC,KAC/C,IAAIA,aAAa,GAAG,EAAE,EAAEH,SAAS,CAACG,aAAa,GAAG,CAAC,CAAC,KACpD,IAAIA,aAAa,GAAG,CAAC,EAAEH,SAAS,CAACG,aAAa,GAAG,CAAC,CAAC,KACnDH,SAAS,CAACG,aAAa,GAAG,CAAC;IAChC3B,UAAU,IAAIwB,SAAS,CAACG,aAAa;EACvC;;EAEA;EACA,MAAMC,GAAG,GAAG/B,YAAY,CAAC+B,GAAG;EAC5B,IAAIA,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAKF,SAAS,EAAE;IACrC,IAAIE,GAAG,GAAG,EAAE,EAAEJ,SAAS,CAACI,GAAG,GAAG,CAAC,CAAC,KAC3B,IAAIA,GAAG,GAAG,EAAE,EAAEJ,SAAS,CAACI,GAAG,GAAG,CAAC,CAAC,KAChCJ,SAAS,CAACI,GAAG,GAAG,CAAC;IACtB5B,UAAU,IAAIwB,SAAS,CAACI,GAAG;EAC7B;;EAEA;EACA,MAAMC,UAAU,GAAGhC,YAAY,CAACiC,YAAY;EAC5C,IAAID,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAKH,SAAS,EAAE;IACnD,IAAIG,UAAU,GAAG,GAAG,EAAEL,SAAS,CAACK,UAAU,GAAG,CAAC,CAAC,KAC1C,IAAIA,UAAU,GAAG,GAAG,EAAEL,SAAS,CAACK,UAAU,GAAG,CAAC,CAAC,KAC/CL,SAAS,CAACK,UAAU,GAAG,CAAC;IAC7B7B,UAAU,IAAIwB,SAAS,CAACK,UAAU;EACpC;;EAEA;EACA,MAAME,SAAS,GAAGlC,YAAY,CAACkC,SAAS;EACxC,IAAIA,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAKL,SAAS,IAAIK,SAAS,GAAG,CAAC,EAAE;IAClE,IAAIA,SAAS,GAAG,EAAE,EAAEP,SAAS,CAACO,SAAS,GAAG,CAAC,CAAC,KACvC,IAAIA,SAAS,GAAG,EAAE,EAAEP,SAAS,CAACO,SAAS,GAAG,CAAC,CAAC,KAC5CP,SAAS,CAACO,SAAS,GAAG,CAAC;IAC5B/B,UAAU,IAAIwB,SAAS,CAACO,SAAS;EACnC;EAEA,OAAO;IACL/B,UAAU;IACVgC,QAAQ,EAAE,EAAE;IACZR,SAAS;IACTS,OAAO,EAAEpC;EACX,CAAC;AACH;;AAEA;AACA;AACA;AACA,SAASO,gBAAgBA,CAACrD,OAAO,EAAE;EACjC,IAAIiD,UAAU,GAAG,CAAC;EAClB,MAAMwB,SAAS,GAAG,CAAC,CAAC;;EAEpB;EACA;EACAA,SAAS,CAACU,GAAG,GAAG,CAAC,CAAC,CAAC;EACnBlC,UAAU,IAAI,CAAC;;EAEf;EACA;EACA,IAAIjD,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEoF,MAAM,IAAIpF,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEW,YAAY,EAAE;IAC5C,IAAIX,OAAO,CAACW,YAAY,GAAGX,OAAO,CAACoF,MAAM,EAAE;MACzCX,SAAS,CAACY,SAAS,GAAG,CAAC;MACvBpC,UAAU,IAAI,CAAC;IACjB,CAAC,MAAM;MACLwB,SAAS,CAACY,SAAS,GAAG,CAAC;IACzB;EACF,CAAC,MAAM;IACLZ,SAAS,CAACY,SAAS,GAAG,CAAC,CAAC,CAAC;IACzBpC,UAAU,IAAI,CAAC;EACjB;;EAEA;EACAwB,SAAS,CAACa,OAAO,GAAG,CAAC,CAAC,CAAC;EACvBrC,UAAU,IAAI,CAAC;EAEf,OAAO;IACLA,UAAU;IACVgC,QAAQ,EAAE,CAAC;IACXR,SAAS;IACTjB,QAAQ,EAAE,IAAI;IAAE;IAChB+B,WAAW,EAAE,CAAAvF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEW,YAAY,KAAGX,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEoF,MAAM;EACtD,CAAC;AACH;;AAEA;AACA;AACA;AACA,SAASnB,gBAAgBA,CAACxD,QAAQ,EAAE;EAAA,IAAA+E,qBAAA;EAClC,MAAMjE,KAAK,GAAGd,QAAQ,CAACM,MAAM,CAAC6C,KAAK;EACnC,MAAM3C,aAAa,GAAGR,QAAQ,CAACQ,aAAa,CAACwE,MAAM;EACnD,MAAMnE,EAAE,IAAAkE,qBAAA,GAAG/E,QAAQ,CAACY,gBAAgB,cAAAmE,qBAAA,uBAAzBA,qBAAA,CAA2B/D,QAAQ;;EAE9C;EACA,IAAIR,aAAa,IAAI,CAAC,EAAE;IACtB,OAAO;MACLiD,MAAM,EAAE,OAAO;MACfwB,UAAU,EAAE,MAAM;MAClB7D,MAAM,EAAE,GAAGZ,aAAa,iCAAiC;MACzD0E,KAAK,EAAE;IACT,CAAC;EACH;EAEA,IAAIrE,EAAE,KAAK,IAAI,IAAIA,EAAE,GAAG,GAAG,EAAE;IAC3B,OAAO;MACL4C,MAAM,EAAE,OAAO;MACfwB,UAAU,EAAE,MAAM;MAClB7D,MAAM,EAAE,kDAAkD;MAC1D8D,KAAK,EAAE;IACT,CAAC;EACH;EAEA,IAAIpE,KAAK,GAAG,EAAE,EAAE;IACd,OAAO;MACL2C,MAAM,EAAE,OAAO;MACfwB,UAAU,EAAE,QAAQ;MACpB7D,MAAM,EAAE,SAASN,KAAK,gCAAgC;MACtDoE,KAAK,EAAE;IACT,CAAC;EACH;;EAEA;EACA,IAAI1E,aAAa,KAAK,CAAC,EAAE;IACvB,OAAO;MACLiD,MAAM,EAAE,MAAM;MACdwB,UAAU,EAAE,QAAQ;MACpB7D,MAAM,EAAE,wDAAwD;MAChE8D,KAAK,EAAE;IACT,CAAC;EACH;EAEA,IAAIpE,KAAK,IAAI,EAAE,IAAIA,KAAK,GAAG,EAAE,EAAE;IAC7B,OAAO;MACL2C,MAAM,EAAE,MAAM;MACdwB,UAAU,EAAE,QAAQ;MACpB7D,MAAM,EAAE,SAASN,KAAK,sCAAsC;MAC5DoE,KAAK,EAAE;IACT,CAAC;EACH;EAEA,IAAIrE,EAAE,KAAK,IAAI,IAAIA,EAAE,GAAG,GAAG,EAAE;IAC3B,OAAO;MACL4C,MAAM,EAAE,MAAM;MACdwB,UAAU,EAAE,QAAQ;MACpB7D,MAAM,EAAE,uCAAuC;MAC/C8D,KAAK,EAAE;IACT,CAAC;EACH;;EAEA;EACA,IAAIpE,KAAK,IAAI,EAAE,IAAIN,aAAa,KAAK,CAAC,KAAKK,EAAE,KAAK,IAAI,IAAIA,EAAE,IAAI,GAAG,CAAC,EAAE;IACpE,IAAIoE,UAAU,GAAG,QAAQ;IACzB,IAAInE,KAAK,IAAI,EAAE,IAAID,EAAE,IAAI,GAAG,EAAEoE,UAAU,GAAG,MAAM;IACjD,IAAInE,KAAK,IAAI,EAAE,IAAID,EAAE,IAAI,GAAG,EAAEoE,UAAU,GAAG,WAAW;IAEtD,OAAO;MACLxB,MAAM,EAAE,KAAK;MACbwB,UAAU;MACV7D,MAAM,EAAE,SAASN,KAAK,yBAAyB,CAAAD,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEqC,OAAO,CAAC,CAAC,CAAC,KAAI,KAAK,EAAE;MACxEgC,KAAK,EAAE;IACT,CAAC;EACH;;EAEA;EACA,OAAO;IACLzB,MAAM,EAAE,MAAM;IACdwB,UAAU,EAAE,KAAK;IACjB7D,MAAM,EAAE,sCAAsC;IAC9C8D,KAAK,EAAE;EACT,CAAC;AACH;;AAEA;AACA;AACA;AACA,OAAO,SAASC,wBAAwBA,CAACnF,QAAQ,EAAE;EAAA,IAAAoF,qBAAA;EACjD,OAAO;IACLnF,MAAM,EAAED,QAAQ,CAACC,MAAM;IACvBoF,KAAK,EAAE,KAAAD,qBAAA,GAAIpF,QAAQ,CAACE,YAAY,cAAAkF,qBAAA,uBAArBA,qBAAA,CAAuBlC,OAAO,CAAC,CAAC,CAAC,EAAE;IAC9CzC,OAAO,EAAET,QAAQ,CAACS,OAAO;IACzBK,KAAK,EAAE,GAAGd,QAAQ,CAACM,MAAM,CAAC6C,KAAK,IAAInD,QAAQ,CAACM,MAAM,CAAC8C,WAAW,EAAE;IAChEkC,eAAe,EAAE,GAAGtF,QAAQ,CAACM,MAAM,CAAC+C,UAAU,GAAG;IACjDW,SAAS,EAAE;MACTnC,SAAS,EAAE,GAAG7B,QAAQ,CAACM,MAAM,CAAC2B,cAAc,KAAK;MACjDK,WAAW,EAAE,GAAGtC,QAAQ,CAACM,MAAM,CAACiC,gBAAgB,KAAK;MACrDE,SAAS,EAAE,GAAGzC,QAAQ,CAACM,MAAM,CAACmC,SAAS,KAAK;MAC5CI,IAAI,EAAE,GAAG7C,QAAQ,CAACM,MAAM,CAACwC,SAAS;IACpC,CAAC;IACDjC,EAAE,EAAEb,QAAQ,CAACY,gBAAgB;IAC7BL,YAAY,EAAEP,QAAQ,CAACO,YAAY;IACnCC,aAAa,EAAER,QAAQ,CAACQ,aAAa;IACrCE,UAAU,EAAEV,QAAQ,CAACU,UAAU;IAC/BP,SAAS,EAAEH,QAAQ,CAACG;EACtB,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}